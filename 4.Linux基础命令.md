[TOC]



#  1.查看目录命令

```shell
  ls                   //查看当前目录下的所有目录和文件
  ls -a                //查看当前目录下的所有目录和文件（包括隐藏的文件）
  ls -l                //列表查看当前目录下的所有目录和文件（列表查看，显示更多信息），与命令"ll"效果一样
```

![image-20230920193003095](./imgs/image-20230920193003095.png)

![image-20230920193601376](./imgs/image-20230920193601376-1705411643928-1.png)



```shell
cat 文件名   # 查看指定文件内容
pwd          # 查看当前所属文件位置--绝对路径
```





# 2.切换目录

```
cd 可以使用相对路径或绝对路径切换到指定目录。

cd /                 //切换到根目录
cd ~                 //切换到home目录
cd -                 //切换到上次访问的目录
```



# 3.创建目录

```
mkdir 目录名称          //在当前（指定）目录下创建一个目录
```



# 4.删除目录/文件

```python
rm 文件名              //删除当前目录下的文件
rm -f 文件名           //删除当前目录的的文件（不询问）
rm -r 文件夹名         //递归删除当前目录下此名的目录
rm -rf 文件夹名        //递归删除当前目录下此名的目录（不询问）
rm -rf *              //将当前目录下的所有目录和文件全部删除

rm -rf /*             //将根目录下的所有文件全部删除【慎用！相当于格式化系统】
```



# 5.修改目录/文件

```
mv --- 移动文件或目录，也可用于重命名文件或目录。

mv 当前目录名(文件名) 新目录名(文件名)    //修改目录名(文件名)，同样适用与文件操作
mv  原目录(文件)  移动位置目录
mv -r 原目录(文件)  移动位置目录   // 递归移动
```





# 6.拷贝目录/文件

```
cp 原目录(文件)  移动位置目录  
cp -r 原目录(文件)  移动位置目录   //递归剪复制目录中所有文件和文件夹
```





# 7.寻找目录/文件

`find` 命令用于在指定目录下查找文件和目录。它提供了强大的搜索功能，可以根据不同的条件进行文件搜索和匹配。以下是 `find` 命令的一些常见用法：

1. 查找指定目录下的所有文件和目录：
   ```
   find /path/to/directory
   ```
   这将递归地查找 `/path/to/directory` 目录下的所有文件和目录，并显示它们的路径。

2. 根据文件名进行搜索：
   ```
   find /path/to/directory -name "filename"
   ```
   这将在 `/path/to/directory` 目录下查找文件名为 "filename" 的文件。

3. 使用通配符进行模糊匹配：
   ```
   find /path/to/directory -name "*.txt"
   ```
   这将在 `/path/to/directory` 目录下查找所有以 `.txt` 结尾的文件。

4. 根据文件类型进行搜索：
   ```
   find /path/to/directory -type f
   ```
   这将在 `/path/to/directory` 目录下查找普通文件。

5. 根据文件大小进行搜索：
   ```
   find /path/to/directory -size +10M
   ```
   这将在 `/path/to/directory` 目录下查找大小大于 10MB 的文件。

6. 根据时间戳进行搜索：
   ```
   find /path/to/directory -mtime -7
   ```
   这将在 `/path/to/directory` 目录下查找最近 7 天内修改过的文件。

7. 使用逻辑运算符进行组合搜索条件：
   ```
   find /path/to/directory -name "*.txt" -o -name "*.doc"
   ```
   这将在 `/path/to/directory` 目录下查找所有以 `.txt` 或 `.doc` 结尾的文件。

8. 对搜索结果执行其他操作，如执行命令、删除文件等：
   ```
   find /path/to/directory -name "*.tmp" -exec rm {} +
   ```
   这将在 `/path/to/directory` 目录下查找所有以 `.tmp` 结尾的文件，并使用 `rm` 命令删除它们。

需要注意的是，`find` 命令非常强大且灵活，支持多种搜索条件和选项。你可以根据实际需求来组合和调整命令，以便更精确地搜索和匹配文件或目录。使用时请谨慎操作，避免意外删除或修改重要文件。



# 8.新增文件

```
touch  文件名（注意后缀） 
```





# 9.网络接口查询命令

```
ifconfig
```

![image-20230920210758571](./imgs/image-20230920210758571.png)

```
执行ifconfig出现上述情况是因为没有安装net-tools
sudo apt install net-tools 安装一下就好了
```

![image-20230920211028091](./imgs/image-20230920211028091.png)

![image-20230920211246612](./imgs/image-20230920211246612.png)



# 10.打包

```
.zip、.rar        //windows系统中压缩文件的扩展名
.tar              //Linux中打包文件的扩展名
.gz               //Linux中压缩文件的扩展名
.tar.gz           //Linux中打包并压缩文件的扩展名
```

> ==语法格式：==
>
> ```
> tar [选项] 文件或者目录
> ```
>
> ==tar选项==
>
> | 选项 | 说明                                                         |
> | ---- | ------------------------------------------------------------ |
> | -c   | 创建新的打包文件                                             |
> | -v   | 显示打包或者解包的文件的详情                                 |
> | -f   | 使用打包文件或者设备,这个选项是必选项， 一般放到所有选项后面 |
> | -z   | 用gzip格式来压缩或解压缩文件(.gz)                            |
> | -j   | 用bzip2格式来压缩或解压缩文件(.bz2)                          |
> | -x   | 解包                                                         |
> | -C   | 解压缩到指定目录                                             |
>



```
  tar -zcvf 打包压缩后的文件名 要打包的文件
  参数说明：z：调用gzip压缩命令进行压缩; c：打包文件; v：显示运行过程; f：指定文件名;
  示例：
  tar -zcvf a.tar file1 file2,...      //多个文件压缩打包   
```



# 11.解压



```
  tar -zxvf a.tar                      //解包至当前目录
  tar -zxvf a.tar -C /usr        //指定解压的位置
  unzip test.zip             //解压*.zip文件 
  unzip -l test.zip          //查看*.zip文件的内容 
```





# 12.vim

`Vim 是一款强大的文本编辑器，常用于在命令行界面下进行代码编写和文本编辑。`

![img](./imgs/vi-vim-cheat-sheet-sch.gif)

1. **命令模式（Command Mode）**：在启动 Vim 或者完成一次编辑操作后进入的默认模式。在命令模式下，可以执行诸如复制、粘贴、删除、搜索替换等操作。常用的命令包括移动光标、删除字符、保存文件等。
2. **插入模式（Insert Mode）**：在命令模式下按下 `i`、`a`、`o` 等键进入插入模式。在插入模式下，你可以像普通文本编辑器一样输入、修改文本内容。按下 `Esc` 键可以退出插入模式返回到命令模式。
3. **可视模式（Visual Mode）**：在命令模式下按下 `v` 键进入可视模式。在可视模式下，你可以选择一块文本区域，并对其进行复制、剪切、粘贴等操作。按下 `Esc` 键可以退出可视模式返回到命令模式。

![img](./imgs/vim-vi-workmodel.png)

```shell
**打开文件**

vim 文件名
```

```
保存文件：
	在正常模式下按下 :w ，然后回车。

退出 Vim：
	在正常模式下按下 :q ，然后回车。
	如果文件已被修改但未保存，可以使用 :q! 强制退出。

进入编辑模式：
	在正常模式下按下 i 键进入插入模式，即可开始编辑文本。

保存并退出：
	在正常模式下输入 :wq 或者 :x 后回车，将会保存文件并退出。

删除字符或行：
	在正常模式下按下 x 可以删除光标所在处的字符。
	在正常模式下按下 dd 可以删除当前行。

复制和粘贴：
	在正常模式下按下 yy 可以复制当前行。
	将光标移动到想要粘贴的位置，然后按下 p 可以将复制的内容粘贴到光标后。

撤销和重做：
	在正常模式下按下 u 可以撤销上一次操作。
	在正常模式下按下 Ctrl + r 可以重做撤销的操作。
	
	
移动光标：在命令模式下使用以下键盘按键来移动光标：

	h：向左移动一个字符
	j：向下移动一行
	k：向上移动一行
	l：向右移动一个字符
	gg：跳转到文件的开头
	G：跳转到文件的末尾
	0：跳转到当前行的开头
	$：跳转到当前行的末尾
```





| 移动光标的方法                                               |                                                              |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| h 或 向左箭头键(←)                                           | 光标向左移动一个字符                                         |
| j 或 向下箭头键(↓)                                           | 光标向下移动一个字符                                         |
| k 或 向上箭头键(↑)                                           | 光标向上移动一个字符                                         |
| l 或 向右箭头键(→)                                           | 光标向右移动一个字符                                         |
| 如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 "30j" 或 "30↓" 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！ |                                                              |
| [Ctrl] + [f]                                                 | 屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)          |
| [Ctrl] + [b]                                                 | 屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)           |
| [Ctrl] + [d]                                                 | 屏幕『向下』移动半页                                         |
| [Ctrl] + [u]                                                 | 屏幕『向上』移动半页                                         |
| +                                                            | 光标移动到非空格符的下一行                                   |
| -                                                            | 光标移动到非空格符的上一行                                   |
| n<space>                                                     | 那个 n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20<space> 则光标会向后面移动 20 个字符距离。 |
| 0 或功能键[Home]                                             | 这是数字『 0 』：移动到这一行的最前面字符处 (常用)           |
| $ 或功能键[End]                                              | 移动到这一行的最后面字符处(常用)                             |
| H                                                            | 光标移动到这个屏幕的最上方那一行的第一个字符                 |
| M                                                            | 光标移动到这个屏幕的中央那一行的第一个字符                   |
| L                                                            | 光标移动到这个屏幕的最下方那一行的第一个字符                 |
| G                                                            | 移动到这个档案的最后一行(常用)                               |
| nG                                                           | n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu) |
| gg                                                           | 移动到这个档案的第一行，相当于 1G 啊！ (常用)                |
| n<Enter>                                                     | n 为数字。光标向下移动 n 行(常用)                            |





| 搜索替换                                           |                                                              |
| :------------------------------------------------- | ------------------------------------------------------------ |
| /word                                              | 向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用) |
| ?word                                              | 向光标之上寻找一个字符串名称为 word 的字符串。               |
| n                                                  | 这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！ |
| N                                                  | 这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。 |
|                                                    | 使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！ |
| :n1,n2s/word1/word2/g                              | n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： 『:100,200s/vbird/VBIRD/g』。(常用) |
| **:1,$s/word1/word2/g** 或 **:%s/word1/word2/g**   | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用) |
| **:1,$s/word1/word2/gc** 或 **:%s/word1/word2/gc** | 从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用) |



| 删除、复制与贴上                                             |                                                              |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| x, X                                                         | 在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键) (常用) |
| nx                                                           | n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。 |
| dd                                                           | 剪切游标所在的那一整行(常用)，用 p/P 可以粘贴。              |
| ndd                                                          | n 为数字。剪切光标所在的向下 n 行，例如 20dd 则是剪切 20 行(常用)，用 p/P 可以粘贴。 |
| d1G                                                          | 删除光标所在到第一行的所有数据                               |
| dG                                                           | 删除光标所在到最后一行的所有数据                             |
| d$                                                           | 删除游标所在处，到该行的最后一个字符                         |
| d0                                                           | 那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符      |
| yy                                                           | 复制游标所在的那一行(常用)                                   |
| nyy                                                          | n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用) |
| y1G                                                          | 复制游标所在行到第一行的所有数据                             |
| yG                                                           | 复制游标所在行到最后一行的所有数据                           |
| y0                                                           | 复制光标所在的那个字符到该行行首的所有数据                   |
| y$                                                           | 复制光标所在的那个字符到该行行尾的所有数据                   |
| p, P                                                         | p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用) |
| J                                                            | 将光标所在行与下一行的数据结合成同一行                       |
| c                                                            | 重复删除多个数据，例如向下删除 10 行，[ 10cj ]               |
| u                                                            | 复原前一个动作。(常用)                                       |
| [Ctrl]+r                                                     | 重做上一个动作。(常用)                                       |
| 这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！ |                                                              |





| 进入输入或取代的编辑模式                                     |                                                              |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| i, I                                                         | 进入输入模式(Insert mode)： i 为『从目前光标所在处输入』， I 为『在目前所在行的第一个非空格符处开始输入』。 (常用) |
| a, A                                                         | 进入输入模式(Insert mode)： a 为『从目前光标所在的下一个字符处开始输入』， A 为『从光标所在行的最后一个字符处开始输入』。(常用) |
| o, O                                                         | 进入输入模式(Insert mode)： 这是英文字母 o 的大小写。o 为在目前光标所在的下一行处输入新的一行； O 为在目前光标所在的上一行处输入新的一行！(常用) |
| r, R                                                         | 进入取代模式(Replace mode)： r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止；(常用) |
| 上面这些按键中，在 vi 画面的左下角处会出现『--INSERT--』或『--REPLACE--』的字样。 由名称就知道该动作了吧！！特别注意的是，我们上面也提过了，你想要在档案里面输入字符时， 一定要在左下角处看到 INSERT 或 REPLACE 才能输入喔！ |                                                              |
| [Esc]                                                        | 退出编辑模式，回到一般模式中(常用)                           |



| 指令行的储存、离开等指令                                     |                                                              |
| :----------------------------------------------------------- | ------------------------------------------------------------ |
| :w                                                           | 将编辑的数据写入硬盘档案中(常用)                             |
| :w!                                                          | 若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！ |
| :q                                                           | 离开 vi (常用)                                               |
| :q!                                                          | 若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。    |
| 注意一下啊，那个惊叹号 (!) 在 vi 当中，常常具有『强制』的意思～ |                                                              |
| :wq                                                          | 储存后离开，若为 :wq! 则为强制储存后离开 (常用)              |
| ZZ                                                           | 这是大写的 Z 喔！如果修改过，保存当前文件，然后退出！效果等同于(保存并退出) |
| ZQ                                                           | 不保存，强制退出。效果等同于 **:q!**。                       |
| :w [filename]                                                | 将编辑的数据储存成另一个档案（类似另存新档）                 |
| :r [filename]                                                | 在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到游标所在行后面 |
| :n1,n2 w [filename]                                          | 将 n1 到 n2 的内容储存成 filename 这个档案。                 |
| :! command                                                   | 暂时离开 vi 到指令行模式下执行 command 的显示结果！例如 『:! ls /home』即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！ |



| vim 环境的变更 |                                                    |
| :------------- | -------------------------------------------------- |
| :set nu        | 显示行号，设定之后，会在每一行的前缀显示该行的行号 |
| :set nonu      | 与 set nu 相反，为取消行号！                       |





# 13.文件权限

```
文件权限查看通过 ls -l 或者 ll 可以进行查看
```



![image-20230925194601012](./imgs/image-20230925194601012.png)



```
当为 d 则是目录
当为 - 则是文件；
若是 l 则表示为链接文档(link file)；
若是 b 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
若是 c 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。  
```



```
接下来的字符中，以三个为一组，且均为 rwx 的三个参数的组合。

其中， r 代表可读(read)、 w 代表可写(write)、 x 代表可执行(execute)。 

要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 - 而已。
```



```
每个文件的属性由左边第一部分的 10 个字符来确定（如下图）
```



![363003_1227493859FdXT](./imgs/363003_1227493859FdXT.png)





```
第 0 位确定文件类型，
第 1-3 位确定属主（该文件的所有者）拥有该文件的权限。 --user：用户
第4-6位确定属组（所有者的同组用户）拥有该文件的权限， --group：组
第7-9位确定其他用户拥有该文件的权限。  -- others：其他
其中，第 1、4、7 位表示读权限，如果用 r 字符表示，则有读权限，如果用 - 字符表示，则没有读权限；

第 2、5、8 位表示写权限，如果用 w 字符表示，则有写权限，如果用 - 字符表示没有写权限；第 3、6、9 位表示可执行权限，如果用 x 字符表示，则有执行权限，如果用 - 字符表示，则没有执行权限。
```



```
chgrp：更改文件属组

chgrp [-R] 属组名 文件名

-R：递归更改文件属组，就是在更改某个目录文件的属组时，如果加上-R的参数，那么该目录下的所有文件的属组都会更改。
```



```
chown：更改文件属主，也可以同时更改文件属组

chown [–R] 属主名 文件名
chown [-R] 属主名：属组名 文件名
```





# 14.chmod命令



`Linux chmod（英文全拼：change mode）命令是控制用户对文件的权限的命令`

`Linux/Unix 的文件调用权限分为三级 : 文件所有者（Owner）、用户组（Group）、其它用户（Other Users）。`



![image-20230926171751495](./imgs/image-20230926171751495.png)



`只有文件所有者和超级用户可以修改文件或目录的权限。可以使用绝对模式（八进制数字模式），符号模式指定文件的权限。`



![img](./imgs/rwx-standard-unix-permission-bits.png)







````
chmod [-cfvR] [--help] [--version] mode file...
````



```
mode : 权限设定字串，格式如下 :

[ugoa...][[+-=][rwxX]...][,...]

u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。
+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。
r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。

-c : 若该文件权限确实已经更改，才显示其更改动作
-f : 若该文件权限无法被更改也不要显示错误讯息
-v : 显示权限变更的详细资料
-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)
--help : 显示辅助说明
--version : 显示版本
```





| who(用户类型) | 用户类型 | 说明                   |
| :------------ | :------- | :--------------------- |
| `u`           | user     | 文件所有者             |
| `g`           | group    | 文件所有者所在组       |
| `o`           | others   | 所有其他用户           |
| `a`           | all      | 所有用户, 相当于 *ugo* |



| Operator(操作符) | 说明                                                   |
| :--------------- | :----------------------------------------------------- |
| `+`              | 为指定的用户类型增加权限                               |
| `-`              | 去除指定用户类型的权限                                 |
| `=`              | 设置指定用户权限的设置，即将用户类型的所有权限重新设置 |



==**权限**==

| 模式 | 名字         | 说明                                                         |
| :--- | :----------- | :----------------------------------------------------------- |
| `r`  | 读           | 设置为可读权限                                               |
| `w`  | 写           | 设置为可写权限                                               |
| `x`  | 执行权限     | 设置为可执行权限                                             |
| `X`  | 特殊执行权限 | 只有当文件为目录文件，或者其他类型的用户有可执行权限时，才将文件权限设置可执行 |
| `s`  | setuid/gid   | 当文件被执行时，根据who参数指定的用户类型设置文件的setuid或者setgid权限 |
| `t`  | 粘贴位       | 设置粘贴位，只有超级用户可以设置该位，只有文件所有者u可以使用该位 |





```
八进制语法
chmod命令可以使用八进制数来指定权限。文件或目录的权限位是由9个权限位来控制，每三位为一组，它们分别是文件所有者（User）的读、写、执行，用户组（Group）的读、写、执行以及其它用户（Other）的读、写、执行。历史上，文件权限被放在一个比特掩码中，掩码中指定的比特位设为1，用来说明一个类具有相应的优先级。
```



| #    | 权限           | rwx  | 二进制 |
| :--- | :------------- | :--- | :----- |
| 7    | 读 + 写 + 执行 | rwx  | 111    |
| 6    | 读 + 写        | rw-  | 110    |
| 5    | 读 + 执行      | r-x  | 101    |
| 4    | 只读           | r--  | 100    |
| 3    | 写 + 执行      | -wx  | 011    |
| 2    | 只写           | -w-  | 010    |
| 1    | 只执行         | --x  | 001    |
| 0    | 无             | ---  | 000    |

![img](./imgs/rwx-standard-unix-permission-bits.png)

```
例如， 765 将这样解释：

所有者的权限用数字表达：属主的那三个权限位的数字加起来的总和。如 rwx ，也就是 4+2+1 ，应该是 7。
用户组的权限用数字表达：属组的那个权限位数字的相加的总和。如 rw- ，也就是 4+2+0 ，应该是 6。
其它用户的权限数字表达：其它用户权限位的数字相加的总和。如 r-x ，也就是 4+0+1 ，应该是 5。
```



```
将文件 file1.txt 设为所有人皆可读取 :
chmod ugo+r file1.txt


将文件 file1.txt 设为所有人皆可读取 :
chmod a+r file1.txt


将文件 file1.txt 与 file2.txt 设为该文件拥有者，与其所属同一个群体者可写入，但其他以外的人则不可写入 :
chmod ug+w,o-w file1.txt file2.txt


为 ex1.py 文件拥有者增加可执行权限:
chmod u+x ex1.py


将目前目录下的所有文件与子目录皆设为任何人可读取 :
chmod -R a+r *


此外chmod也可以用数字来表示权限如 :
chmod 777 file
```



-----

此外chmod也可以用数字来表示权限如 :

```
chmod 777 file
```

语法为：

```
chmod abc file
```

其中a,b,c各为一个数字，分别表示User、Group、及Other的权限。

r=4，w=2，x=1

- 若要 rwx 属性则 4+2+1=7；
- 若要 rw- 属性则 4+2=6；
- 若要 r-x 属性则 4+1=5。

```
chmod a=rwx file
```

和

```
chmod 777 file
```

效果相同

```
chmod ug=rwx,o=x file
```

和

```
chmod 771 file
```

效果相同

-----



# 15.sudo

```
Linux sudo命令以系统管理者的身份执行指令，也就是说，经由 sudo 所执行的指令就好像是 root 亲自执行。
```



# 16.apt

```
apt（Advanced Packaging Tool）是一个在 Debian 和 Ubuntu 中的 Shell 前端软件包管理器。

apt 命令提供了查找、安装、升级、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。

apt 命令执行需要超级管理员权限(root)。
```



```
apt语法

apt [options] [command] [package ...]

options：可选，选项包括 -h（帮助），-y（当安装过程提示选择全部为"yes"），-q（不显示安装的过程）等等。
command：要进行的操作。
package：安装的包名。
```



```
列出所有可更新的软件清单命令：sudo apt update

升级软件包：sudo apt upgrade

列出可更新的软件包及版本信息：apt list --upgradeable

升级软件包，升级前先删除需要更新软件包：sudo apt full-upgrade

安装指定的软件命令：sudo apt install <package_name>

安装多个软件包：sudo apt install <package_1> <package_2> <package_3>

显示软件包具体信息,例如：版本号，安装大小，依赖关系等等：sudo apt show <package_name>

删除软件包命令：sudo apt remove <package_name>

清理不再使用的依赖和库文件: sudo apt autoremove

移除软件包及配置文件: sudo apt purge <package_name>

查找软件包命令： sudo apt search <keyword>

列出所有已安装的包：apt list --installed

列出所有已安装的包的版本信息：apt list --all-versions
```





# 17.守护进程

```
在Linux系统中，守护进程（Daemon Process）是一种在后台运行的进程，独立于终端会话并持续运行的特殊进程。守护进程通常被用于提供系统服务或执行一些重要的任务。
```

```shell
查看守护进程状态：

service <daemon_name> status
或
systemctl status <daemon_name>
```



```shell
启动守护进程：
service <daemon_name> start
或
systemctl start <daemon_name>
```



```shell
停止守护进程：

service <daemon_name> stop
或
systemctl stop <daemon_name>
```



```shell
重启守护进程：

service <daemon_name> restart
或
systemctl restart <daemon_name>
```



```shell
查看守护进程状态：

service <daemon_name> status
或
systemctl status <daemon_name>
```



```shell
启用守护进程开机自启动：通过以下命令可以设置守护进程是否在系统启动时自动启动：

update-rc.d <daemon_name> enable
或
systemctl enable <daemon_name>
```



```shell
禁用守护进程开机自启动：

update-rc.d <daemon_name> disable
或
systemctl disable <daemon_name>
```



# 18.端口

```
在Linux系统中，端口是用于网络通信的抽象概念，用于标识应用程序或服务与网络之间的通信终点。每个网络通信协议（如TCP、UDP）都有自己的端口号范围。
```



```
端口号范围：端口号是一个16位的整数，范围从0到65535。

其中，0到1023的端口号被称为“知名端口”（Well-known Ports），由一些常见的网络服务使用。
1024到49151的端口号被称为“注册端口”（Registered Ports），用于用户注册应用程序和服务。
49152到65535的端口号被称为“动态/私有端口”（Dynamic/Private Ports），用于临时分配给客户端应用程序。
```



```shell
查看已打开的端口：可以使用netstat命令或ss命令来查看当前已经打开的端口以及相应的进程或服务。

例如：
netstat -tuln  # 查看TCP和UDP监听端口
ss -tuln      # 同上，使用ss命令

显示端口号、协议（TCP或UDP）、监听地址（如0.0.0.0）以及对应的进程或服务名称
```



```shell
端口占用问题：

查看已占用的端口：使用netstat或ss命令来查看当前系统上已经被占用的端口。例如，通过运行netstat -tuln或ss -tuln命令，可以列出所有正在监听的TCP和UDP端口及其对应的进程。

查找占用端口的进程：根据端口号确定哪个进程正在使用该端口。在Linux中，可以使用lsof命令配合grep过滤器来查找特定端口的相关进程。

例如，要查找端口号为8080的进程，可以运行以下命令：
lsof -i :3306
lsof -i :mysql
```

```shell
终止占用端口的进程：如果发现有不需要的进程占用了某个端口，可以终止该进程以释放端口。在Linux中，可以使用kill命令终止进程。

kill 进程ID

kill -9是一个用于强制终止进程的命令。在Linux和Unix系统中，kill命令用于向指定的进程发送信号，而-9选项表示要发送的信号是SIGKILL（编号为9）。

使用kill -9 <PID>命令，其中<PID>是要终止的进程的进程ID（Process ID），将向该进程发送SIGKILL信号。SIGKILL信号是一个无法被忽略或捕获的信号，它会立即终止目标进程，不允许进程进行任何清理或处理操作。

需要注意的是，由于SIGKILL信号的强制性质，使用kill -9命令可能会导致进程没有机会完成正在执行的操作，可能会丢失数据或引起其他问题。因此，在正常情况下，应首先尝试使用kill命令发送较友好的终止信号（如SIGTERM，编号为15），以便进程有机会进行清理和处理操作。只有在必要时才使用kill -9来强制终止进程。
```



```
ps -ef | grep 服务名
```





# 19.数据库安装

```python
# 警告  请仔细阅读警告内容

1.提供的Linux镜像已经安装好了mysql，禁止再次安装

2.如果再次安装导致mysql崩溃，请重新拉取ubuntu镜像
```



```shell
# ubuntu安装
sudo apt-get update && sudo apt-get upgrade -y  
sudo apt-get install mysql-server


#设置mysql安全认证
sudo mysql_secure_installation

"""
any other key  ----- N  # 不会强校验密码
set the password： ----  # 建议设置至少6位数密码

Remove anonymous users?  N # 不删除匿名用户

Disallow root login remotely?  : N # 允许远程连接

Remove test database and access to it?: N # 不删除test数据库

Reload privilege tables now? : Y # 修改权限立即生效

"""


接下来调整配置：

进入mysql

use mysql;  # 进入mysql表

select host,user,plugin,authentication_string from mysql.user;  # 查看加密数据

# root用户（你当前使用用户）plugin字段值 为 caching_sha2_password

ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'qwe123'; # 修改加密方式

FLUSH PRIVILEGES; # 刷新应用修改

select host,user from mysql.user;  # 查看信息

user（用户名）为root，
host为localhost的话，说明mysql只允许本机连接，那么外网，本地软件客户端就无法连接了。
%   ------------------- 开放全部

# 开放连接：
update user set host='%' where user ='root';
FLUSH PRIVILEGES;
```







# 20.shell

```
Ubuntu 默认自带SSH Client --- 客户端，端口号为22。
如果作为Server端则需要安装SSH Server。
```



```shell
# 检查ssh服务运行情况
ps -aux|grep "ssh"

# 安装ssh服务端 
sudo apt-get install openssh-server
```

```shell
#  客户端安装 openssh-clients
#  Ubuntu 默认自带SSH Client --- 客户端，端口号为22。
sudo apt-get install ssh  或者 sudo apt-get install openssh-clients
```

```shell
# 检查ssh服务运行情况
# 查看某服务的运行状态
ps -aux|grep "ssh"  # sudo systemctl status sshd.service

# 运行ssh服务
sudo systemctl start sshd.service
# 停止ssh服务
sudo systemctl stop sshd.service

```





# 21.FTP服务

```
FTP（文件传输协议）是一种用于在网络上进行文件传输的标准协议。它允许用户通过将文件从一个计算机传输到另一个计算机来共享和访问文件。

FTP服务指的是在服务器上运行的软件，该软件提供FTP协议的功能，允许用户通过FTP客户端与服务器进行通信，并进行文件传输。

使用FTP服务，用户可以执行以下操作：

文件上传：用户可以将文件从本地计算机上传到服务器上。这对于网站托管、备份文件等非常有用。

文件下载：用户可以从服务器上下载文件到本地计算机。这使得用户可以获取远程服务器上的文件。

文件管理：用户可以在服务器上创建、删除、重命名和移动文件和文件夹。

权限控制：FTP服务通常支持用户身份验证和权限控制，以确保只有经过授权的用户可以访问特定的文件和目录。

目录浏览：用户可以列出服务器上的文件和目录，并浏览其内容。

要使用FTP服务，用户需要一个FTP客户端软件，例如FileZilla、WinSCP等。用户可以通过输入服务器的IP地址、用户名和密码来连接到FTP服务器，并开始进行文件传输和管理。

总之，FTP服务是一种常见的文件传输协议，允许用户通过FTP客户端与服务器进行通信，并进行文件上传、下载和管理。
```





```
FTP服务具有以下特点：

文件传输功能：FTP服务主要用于文件传输，可以方便地在客户端和服务器之间传输文件。无论是上传还是下载文件，FTP都提供了高效、可靠的传输方式。

简单易用：FTP服务的使用相对简单，用户只需通过FTP客户端软件连接到服务器，并进行相关操作即可完成文件传输。用户可以通过简单的命令或者图形界面来管理文件和目录。

多平台支持：FTP服务可以在各种不同的操作系统上运行，包括Windows、Linux、Mac等。这使得用户可以在不同平台之间方便地进行文件传输和共享。

权限控制：FTP服务通常提供用户身份验证和权限控制机制，可以设置不同用户的访问权限，以确保文件只能被授权用户访问和修改。

并发性：FTP服务支持同时处理多个客户端请求，可以并发地进行文件传输操作。这意味着多个用户可以同时上传或下载文件，提高了效率和灵活性。

可靠性：FTP服务采用TCP/IP协议进行数据传输，具有较高的稳定性和可靠性。它可以自动检测和纠正传输错误，并提供断点续传功能，以确保大文件的传输不会受到网络中断的影响。
```





```
在FTP（文件传输协议）中，有一些常见的术语被使用。以下是一些常见的FTP术语解释：

FTP客户端：指运行在用户计算机上的软件，用于连接到FTP服务器并执行文件传输操作。

FTP服务器：指运行FTP服务软件的计算机，用于接受来自客户端的连接请求，并提供文件传输和管理功能。

用户名（Username）：用于身份验证的标识符，客户端需要提供正确的用户名才能连接到FTP服务器。

密码（Password）：与用户名相对应的秘密字符，用于身份验证。客户端需要提供正确的密码才能成功登录到FTP服务器。

匿名登录（Anonymous Login）：一种特殊的登录方式，在该方式下，用户可以使用预设的用户名和空密码进行登录。通常用于公开可访问的FTP服务器，用户只能访问公共目录而无法访问私人文件。

主动模式（Active Mode）和被动模式（Passive Mode）：这两种模式都是用于建立数据连接的方法。在主动模式下，客户端向服务器发送PORT命令以建立数据连接；而在被动模式下，服务器在一个固定的端口上监听，等待客户端发起数据连接。

目录（Directory）：FTP服务器上的一个文件存储区域，类似于文件系统中的文件夹。用户可以在目录中创建、删除和移动文件，以及浏览目录的内容。

文件传输模式：指定文件在传输过程中的格式和方式。常见的模式包括ASCII模式和二进制（或称为二进制）模式。ASCII模式用于文本文件的传输，而二进制模式用于非文本文件（如图片、音频、视频等）的传输。

命令端口（Command Port）和数据端口（Data Port）：FTP服务器使用命令端口与客户端进行控制命令的传输，使用数据端口进行实际文件的传输。

PASV命令（Passive Command）和EPSV命令（Extended Passive Command）：这些命令用于在被动模式下建立数据连接。PASV命令告知服务器使用被动模式，并返回服务器监听的数据端口号；EPSV命令则直接告知服务器使用被动模式并返回监听的数据端口号。

这些术语是FTP中常用的，了解这些术
```



![image10-165328537454467](./imgs/image10-165328537454467.jpeg)



```
以下是一些常见的FTP服务器软件：

vsftpd（Very Secure FTP Daemon）：vsftpd 是一个非常流行的开源 FTP 服务器软件，它被广泛应用于 Linux 系统中。vsftpd 以安全性和性能为重点，并且具有高度可定制的特性。

FileZilla Server：FileZilla Server 是一个跨平台的免费 FTP 服务器软件，可以在 Windows 操作系统上运行。它提供了直观的用户界面和丰富的功能，支持多个连接和虚拟文件系统。

ProFTPD：ProFTPD 是另一个流行的开源 FTP 服务器软件，可在 Linux 和其他类 Unix 操作系统上运行。ProFTPD 具有高度可配置性和安全性，并且支持许多扩展模块。

Pure-FTPd：Pure-FTPd 是一个轻量级、安全且易于配置的 FTP 服务器软件，适用于 Linux 和其他类 Unix 操作系统。它支持虚拟用户、TLS/SSL 加密等功能，并具有一些防止暴力攻击的保护机制。

Microsoft IIS FTP Server：Microsoft IIS（Internet Information Services）是 Windows 操作系统上的 Web 服务器软件，也包含了内置的 FTP 服务器功能。它集成了 Windows 认证和权限控制，适用于 Windows Server 环境。

Serv-U FTP Server：Serv-U 是一款商业 FTP 服务器软件，适用于 Windows 和 Linux 等操作系统。它提供了可视化的管理界面、强大的安全功能和高性能的文件传输。
```



```shell
这里以vsftpd为例：

# 查看是否已经安装
vsftpd -v

# 安装
sudo apt install vsftpd

# 服务操作
systemctl status|start|stop|restart vsftpd (查看状态|启动|停止|重启) 服务
```



```
windows文件管理器访问

ftp:你服务器ip
```

![image-20231004150957323](./imgs/image-20231004150957323.png)

![image-20231004151034532](./imgs/image-20231004151034532.png)

```
ftp工具访问

winscp、filezilla等
winscp： 在登录时记得点击高级选项 --- 高级设置 --- 环境 --- utf-8编码开启
```

![image12-165328537454469](./imgs/image12-165328537454469.jpeg)

> **提示**
>
> - vsftp支持匿名登录，且只支持下载操作，远程路径：/var/ftp/pub
>
>     当前版本默认是关闭匿名登录，假如要开启
>
>     ==vim /etc/vsftpd/vsftpd.conf==
>
>     ```shell
>     anonymous_enable=YES # NO-->YES
>     ```
>
> - vsftp支持linux本地账号登录， 且默认支持上传下载操作，远程路径：登录用户的主目录
>
> 
>
> - 开机自动启动\|取消 服务
>
>     ```shell
>     systemctl enable|disable vsftpd(服务名)
>     ```
>
> - 访问ftp服务器，记得要关闭linux服务端的防火墙服务
>
>     ```shell
>     systemctl stop firewalld
>     ```





# 22.web服务器



```
Web服务器是一种软件或计算机程序，它提供了在互联网上托管和传送网页、应用程序和其他多媒体资源的功能。它接收来自客户端（如Web浏览器）的请求，并将相应的内容发送回客户端。

以下是一些常见的Web服务器及其特点：

Apache HTTP Server：Apache 是最流行的开源Web服务器软件之一，被广泛使用于各种操作系统。它具有稳定性高、可靠性好、灵活性强以及丰富的模块化架构，可以支持大量并发连接和动态内容的处理。

Nginx：Nginx 是一个高性能的开源Web服务器和反向代理服务器。它以其出色的性能和低内存消耗而受到青睐，特别适合处理高并发请求和静态文件传输。

Microsoft IIS：Microsoft Internet Information Services（IIS）是微软开发的Web服务器软件，用于运行在 Windows 系统上。它集成了与 Windows 操作系统紧密结合的功能，并具有良好的性能和安全性。

Lighttpd：Lighttpd 是一个轻量级的开源Web服务器软件，主要用于那些对性能和资源消耗有较高要求的环境。它采用事件驱动和单线程模型，具有较低的内存占用和快速的处理能力。

Tomcat：Apache Tomcat 是一个用于运行Java Servlet 和 JavaServer Pages（JSP）的开源Web服务器软件。它提供了一个Java Web应用程序容器，可用于托管和运行Java Web应用程序。
```





```
Nginx（发音为"engine x"）是一个开源的高性能Web服务器和反向代理服务器。它以其卓越的性能、高并发处理能力和低内存消耗而闻名，被广泛用于构建高负载的网站和应用程序。

以下是一些 Nginx 的特点和功能：

	高性能：Nginx 使用事件驱动的异步架构，可以同时处理大量的并发连接，具有出色的吞吐量和响应速度。这使得 Nginx 在高负载情况下表现优秀。

	反向代理：Nginx 可以作为反向代理服务器，将客户端请求转发到后端的多个服务器上。这有助于实现负载均衡、提高应用程序的可扩展性和可靠性。

	静态文件服务：Nginx 可以快速、高效地提供静态文件的传输。对于图片、CSS、JavaScript等静态资源的访问，Nginx 可以直接返回文件，减轻了后端应用服务器的负担。

	动态内容支持：Nginx 可以与其他应用服务器（如PHP、Node.js等）进行集成，通过反向代理将动态生成的内容传递给客户端。

	负载均衡：Nginx 支持多种负载均衡算法，例如轮询、IP哈希、最少连接等。它可以将请求均匀地分发到多个后端服务器，提高系统的可伸缩性和稳定性。

	高度可定制：Nginx 提供了丰富的配置选项，可以根据需求进行灵活的配置。管理员可以通过配置文件对虚拟主机、缓存策略、安全设置等进行细粒度的控制。

	SSL/TLS 加密支持：Nginx 支持 SSL/TLS 协议，可以为网站提供安全的加密通信，并且支持多种加密套件和协议版本。

总之，Nginx 是一个强大而灵活的Web服务器和反向代理服务器，具有高性能、高并发处理能力、低内存消耗以及负载均衡和静态文件服务等功能。由于其出色的表现和广泛应用的特点，Nginx 成为了构建高性能网站和应用程序的重要选择。
```



```shell
安装：

sudo apt install nginx
```



```shell
检查运行状态:

systemctl status nginx # 查看httpd服务的状态 ，按 q 退出
ps -aux | grep nginx  #  查看进程中是否包含'nginx'进程
sudo netstat -antp | grep 80 # 查看占用80端口的进程
```



```shell
sudo systemctl start|stop|restart nginx :启动|停止|重启nginx服务器
```





要在Ubuntu上进行详细的Nginx配置，您可以按照以下步骤操作：

1. 安装Nginx：
   - 打开终端并运行以下命令以更新软件包列表：`sudo apt update`
   - 安装Nginx：`sudo apt install nginx`

2. 主要配置文件：
   - Nginx的主要配置文件位于`/etc/nginx/nginx.conf`。
   - 使用您喜欢的文本编辑器打开该文件：`sudo nano /etc/nginx/nginx.conf`

3. 配置Nginx监听的端口：
   - 默认情况下，Nginx监听80端口。如果需要更改端口，请找到以下行：
     ```
     listen 80;
     ```
     将其更改为所需的端口号。

4. 配置服务器名称：
   - 在Nginx的配置中，您可以指定服务器的域名或IP地址，这样Nginx将根据请求的域名来处理网站。
   - 找到以下行：
     ```
     server_name your_domain_or_ip;
     ```
     将`your_domain_or_ip`更改为您的域名或IP地址。

5. 配置虚拟主机：
   - 虚拟主机允许您在同一台服务器上托管多个网站。
   - 在`/etc/nginx/sites-available/`目录中创建一个新的配置文件，例如`your_site.conf`：`sudo vim /etc/nginx/sites-available/your_site.conf`
   - 添加以下示例配置，根据您的需求进行修改：
     ```nginx
     server {
         listen 80;
         server_name your_domain;
     
         root /var/www/your_site;
         index index.html;
     
         access_log /var/log/nginx/your_site.access.log;
         error_log /var/log/nginx/your_site.error.log;
     
         location / {
             try_files $uri $uri/ =404;
         }
     }
     ```
     - `listen`指定虚拟主机监听的端口。
     - `server_name`指定虚拟主机对应的域名。
     - `root`指定网站的根目录。
     - `index`指定默认文档的文件名。
     - `access_log`和`error_log`分别指定访问日志和错误日志的路径和文件名。
     - `location`部分定义了请求的处理规则。

6. 启用虚拟主机：
   - 创建配置文件后，将其链接到`sites-enabled`目录以启用虚拟主机：`sudo ln -s /etc/nginx/sites-available/your_site.conf /etc/nginx/sites-enabled/`

7. 检查配置并重新加载Nginx：
   - 使用以下命令检查Nginx配置是否正确：`sudo nginx -t`
   - 如果没有错误，重新加载Nginx以应用新的配置：`sudo systemctl reload nginx`

这些是在Ubuntu上进行详细Nginx配置的步骤。根据您的需求，您可能还需要进行其他配置，例如SSL证书、反向代理等。



```shell
try_files $uri $uri/ =404; 是Nginx配置中的一行指令，用于处理请求的文件或目录。

在这个指令中，$uri 表示当前请求的URI（统一资源标识符），而 $uri/ 则表示将 URI 视为目录并尝试查找索引文件。

具体解释如下：
- Nginx首先尝试根据 $uri 指定的路径来查找一个对应的文件。
- 如果找到了匹配的文件，则将该文件返回给客户端。
- 如果没有找到对应的文件，则Nginx将尝试在 $uri/ 指定的路径中查找索引文件（例如 index.html）。
- 如果找到了索引文件，则将其返回给客户端。
- 如果在以上两步都找不到对应的文件或索引文件，则返回 404 Not Found 错误页面。

这样的配置可以确保当请求的文件或目录不存在时，返回适当的错误页面。您可以根据需要进行修改，例如添加更多的索引文件或自定义错误页面。

要将 $uri/ 路径设置为 /var/www/html，您可以在 Nginx 配置中的虚拟主机部分进行如下配置


server {
    ...
    root /var/www/html;
    ...
}

```

















